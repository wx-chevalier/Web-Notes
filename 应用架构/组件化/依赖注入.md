# Web ç»„ä»¶çš„ä¾èµ–æ³¨å…¥

ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µæœ€æ—©ç”± Google Angular å¼•å…¥åˆ° Web å‰ç«¯ç¼–ç ä¸­ï¼Œè€Œéšç€ç»„ä»¶åŒ–æ¦‚å¿µçš„æµè¡Œï¼Œç‰¹åˆ«æ˜¯ç±»ç»„ä»¶çš„æ–¹å¼é€æ­¥æˆä¸ºä¸»æµï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‰ç«¯ç¼–ç ä¸­å®è·µä¾èµ–æ³¨å…¥æˆ–è€…æ§åˆ¶åè½¬çš„æ¨¡å¼ã€‚

æ§åˆ¶åè½¬å¹¶éå¤šä¹ˆå¤æ‚çš„æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†é‚£äº›é€šè¿‡ Props ä¼ å…¥çš„ Every function passed in via props is an â€œinjection of a dependencyâ€, and every component that declares a prop for handling events or user interaction is observing â€œinversion of controlâ€. The borrowed terms have now been rendered obsolete through ubiquity, save perhaps for use as shibboleth for JavaScripters who have lived through the reign of Angular.

#â€ŠConstructor Injection

As the name implies, this component would receive its dependencies via the constructor. Hereâ€™s what such a component would look like:

```js
class Knight extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      weapon: props.weapon
    };
  }
  render() {
    return `ğŸ´ ${this.state.weapon}`;
  }
}
```

And you would use it like this:

```js
<Knight weapon={sword} />
```

Of course, you should typically use the prop directly instead of duplicating it.

# Setter Injection

Instead of setting dependencies in the constructor, a component would have methods available that can be called after initialization, with dependencies passed in as the argument.

```js
class Knight extends React.Component {
  state = {};
  setWeapon = weapon => this.setState({ weapon });
  render() {
    return `ğŸ´ ${this.state.weapon}`;
  }
}
```

Usage:

```js
componentDidMount () {
  this.knight.setWeapon(sword);
}
render () {
  return <Knight ref={c => this.knight = c} />;
}
```

Again, you almost certainly would not want do this instead of passing dependencies directly via props.

# Interface Injection

The props of a component are its interface to its clients, thus â€œrequired propsâ€ would come the closest to an analogy for interface injection with React:

```js
class Knight extends React.Component {
  static propTypes = {
    weapon: PropTypes.any.isRequired
  };
  render() {
    return `ğŸ´ ${this.props.weapon}`;
  }
}
```

and you would use it simply as

```js
<Knight weapon={sword} />
```

I hope these examples illustrate how commonplace Dependency Injection has become, and gave you some talking points should the topic ever comes up.
